#!/usr/bin/env ruby

require 'rubygems'
require 'hookers'

args = ARGV.dup
command = args.shift

options = Slop.parse(args, help: true) do
  on :from, "Generate changelog from this refence", argument: true
  on :to, "Generate changelog up to this reference", argument: true
  on :setup, "Copy git hooks files to project .git/hooks ", argument: true
  on :"api-token", "Pivotal user token to sync commits", argument: true
  on :m, "Message to be used on commit", argument: true
  on :id, "Pivotal story id", argument: true
end

Hookers.run!(command, options.to_hash)